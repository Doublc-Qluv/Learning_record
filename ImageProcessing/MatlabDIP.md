[TOC]
# **数字图像处理与MATLAB实现——小记**
`Doublc_Qluv`
####*主要的研究内容：图像变换、图像增强、图像复原、图像压缩、图像分割等*####

## 1. 所谓概述

- 特点

    **处理信息大：**对计算机的计算速度、存储容量等要求交高；

    **数字图像处理占用的频带较宽：** 
    >成像、传输、存储、处理、显示

    以上各个环节的实现上，技术难度较大，成本高，这就对频带压缩技术提出更高的要求


    **数字图像中的各个像素相关性大（有时候会达到0.9以上，相邻两帧之间的相关性甚至还大）：** 

    *图像是三维的投影，所以不可能完全复现三维景物里面的全部几何信息*

    *所以，要分析和理解三维景物就必须做合适的假设或者附加新的测量*

****


## 2.主要研究内容

*  [图像增强](#2.1)

*  [图像编码](#2.2)

*  [图像复原](#2.3)

*  [图像分割](#2.4)

*  [图像分类](#2.5)

*  [图像重建](#2.6)

 <h3 id="2.1">图像增强</h3> 暂未添加hhh

 ****

## 3.应用与发展


- 航天遥感&卫星遥感

- 医学影像

- 通信

- 分析与检测

- 制导&影像分析

- 修复…………

****

## 4.发展动向

### 4.1方兴未艾

* [精度与速度]()

* [软件研究的新方法]()

* [边缘学科的研究]()

* [理论]()

* [处理规范与标准化（信息库）]()

### 4.2未来

- 高速率、高分辨率、立体化、多媒体化、智能化、标准化

- 图像、图形结合——三维乃至多维

- 功能芯片化（硬件化）

- 新算法<br/>Wavelet、Fractal、Morphology、遗传算法、神经网络


#现在是大致目录（后面就不写了）
- 
- 图像处理基础
    - 图像的基本概念<br>
    - 数字图像的输入和输出<br>
    - 基本运算<br>
    - 图像变换<br>
- <br>
- 图像处理的技术<br>
    - 图像增强
    - 图像复原
    - 图像压缩编码
    - 图像分割
- 
- 拓展
    + 彩色图像处理
    + 图像特征的表征与描述


##**知识点note**
#### 2018-1-20

- 图像是个啥
        
	- 中国古代的《墨经》
	- 古希腊的阿基米德、欧几里得、亚里士多德
	- 达芬奇的《蒙娜丽莎的微笑》
		- 有一种的说法是一种视觉的错觉差


- 模拟图像
    - $I=f(x,y,z,\lambda,t)$
    	- 三维图像连续
    	- 时间上连续
    	- 波普上连续
    	- 不可见的物理图像
    	- 想象中的虚拟图像
       
- 数字图像
    + 模拟图像的数字化
        * 二维空间的数字化 - 二维图像(网格化)
        * 时间离散化 - 多维图像
        * 层次数字化 - 灰度数字化
        * 波普数字化 - 从波谱角度扩展人类观察自然界的能力
        * 尺度适应化 - 从空间尺度扩展人类观察自然界的能力
    + 什么是数字图像
        * 单幅图像 
            - 平面、单色、静止：$I=f(x,y)$
        * 数字图像
            - 单幅图像的数字表示：$I=f|x,y|$
- 数字图像处理与分析的基本构成
    + 图像数字化设备(输入图像)
    + 图像处理计算机(处理图像)
    + 图像输出设备(输出图像)
- 数字图像的表示——二维矩阵
- 数字图像处理与分析的定义
    + 利用计算机对数字图像进行各种目的的处理
- 数字图像处理的方式：
    + 将一幅图像变为另一幅经过加工的图像，图像得到图像的过程
    + 将一幅图像转化为一种非图像的表示，分析、识别与理解的过程
- 数字图像处理与分析研究的实质
    + 研究如何对一幅连续图像取样、量化以产生包含全部或所需信息的数字图像
    + 如何对数字图像做各种变换以方便处理
    + 如何滤去图像中各种无用的噪声
    + 如何压缩图像数据以便存储和传输
    + 如何从图像中提取所需信息，从而形成对图像所含信息的理解与识别
    + 如何形成抽象事物的模拟图像，从而帮助人类更好地认识客观事物
- 数字图像处理与分析研究的方法
    + 图像变换
        * 改变图像的空间或者频谱分布，获得或突出感兴趣信息
        * 空域变换：放大、缩小、旋转、……
        * 空域——频域变换：傅里叶变换、Walsh变换、离散余弦变换、小波变换、……
    + 图像编码
        * 减少描述图像的数据量，节省图像传输、处理时间、减少存储空间
        * 熵编码、预测法编码、变换编码、分9形编码、……
    + 图像增强和恢复
        * 提高图像质量（去除噪声、提高图像清晰度）
        * 灰度修正、平滑、几何校正、图像锐化、频域增强、维纳滤波、卡尔曼滤波、……
    + 图像分割
        * 提取出感兴趣的对象，为进一步的理解和识别做准备
        * 灰度阈值分割、基于纹理的分割、区域生长法……
    + 图像的理解和识别
        * 从图像中提取抽象化的特定信息
        * 统计模式分类和句法模式分类
- 矩阵表示
	+ 图像是像素的二维排列
	+ 一般蚕蛹均匀采样
		* 像素行、列之间的间隔相等
		* 二维排列形成一个矩阵
	+ 特殊情况下，亦可以采用非均匀采样
- 数学表示
    + 二维离散函数——$I=f(x,y)$
        * x,y表示图像像素的坐标
        * 函数f表示在坐标(x,y)处像素的亮度值
    + 二维矩阵——$A[m,n]$
        * m,n表示图像的宽和高
        * 矩阵元素a(i,j)表示图像在第i行，第j列你的像素值
        
###图像的质量
- 图像的质量
    + 灰度：表示图像像素明暗程度的数值
    + 灰度级：表明图像中不同灰度的最大数量
    
    **图像数据的实际灰度级越多，图像视觉效果越好。**

    + 对比度：反应一幅图像中灰度方差的大小
        * $对比度=最大灰度值/最小灰度值$

- 图像质量优劣的指标：
    + 图像质量的优劣既可以通过人眼主观视觉效果来判断，也可以通过客观指标来衡量。
        * 主观评价的标准相对比较完善：
        	- 将图像序列给测试者看
        	- 双刺激和单刺激的效果与实践有关系
        	- 绝对尺度和相对尺度
        * 均方误差(MSE):  
        $$MSE=\frac{1}{NM}\sum_{i=1}^{N}\sum_{j=1}^{M}(f_{ij}-f_{ij}^{\prime})^2$$
        * 峰值信噪比(PSNR):
        $$PSNR=10log_{10}\frac{L^2}{MSE}$$
        * $其中N、M分别是x方向、y方向图像像素点的个数，f_{ij}和f_{ij}^\prime分别是原始图像和测试图像在(i,j)点上的取值，L是图像中灰度取值的范围，对8比特的灰度图像而言，L=255.$
       	* 加权均方误差、
       	* 基于视觉特性（中间的加权值高清晰，周围的模糊加权值低）
    + $输入图像\longrightarrow视觉的非线性处理\longrightarrow视觉的敏感度\longrightarrow视觉多通道$
    + 看图像的心理因素影响(对于某些区域感兴趣的时候，整个图像的质量主观评价的结果又是会依赖于这个感兴趣区域)

###图像的颜色
- 人类对于光本性的认识的三个阶段
    + 光微粒子：$牛顿\longrightarrow几何光学\longrightarrow直线传播$
        * 能解释的现象：反射、折射、透射
    + 光波：$惠更斯等\longrightarrow波动光学\longrightarrow波长、频率$
        * 能解释的现象：干涉、衍射
    + 光（量）子：$爱因斯坦、普朗克\longrightarrow量子光学\longrightarrow能量量子化$
        * 能解释的现象：光电效应、康普顿散射

####人类视觉模型：
- 杆状细胞：
    + 负责黑白视觉
    + 对低亮度光敏感（夜视觉）
    + 数量约为7500万~1.5亿
- 锥状细胞:
    + 负责彩色视觉、明视觉
    + 有三种类型：红色、绿色、蓝色感光细胞
    + 可感受6~7百万中颜色
    + 数量约为600~700万

- $韦伯比：\Delta I_c/I,这里的\Delta I_c是在背景照明为I的情况下可辨别照明度增量的50\%，\Delta I_c/I值较小意味着可辨别强度较小的百分比变化，这表明亮度辨别能力好。反之，较差。$

####证明感觉亮度不是简单的强度函数：
- 基于视觉系统倾向不同强度区域边界周围的“欠调”或“过调”
	+ 马赫带

```matlab
	imagesc(1:8);
	colormap(gray);
```

- 同时对比现象，即感觉得亮度区域不是简单的取决与强度。

```matlab
	%第一块
	colormap(gray);
 	dark=zeros(256,256);
 	dark(64:192,64:192)=0.5;
 	subplot(1,3,1); imshow(dark)
 	%第二块
 	middle(1:256,1:256)=0.7;
 	middle(64:192,64,192)=0.5;
 	subplot(1,3,2); imshow(middle)
 	%第三块
 	bright=ones(256,256);
 	bright(64:192,64:192)=0.5;
 	subplot(1,3,3); imshow(bright)
```
- 另一个人类感知现象例子：视觉错觉。

####人眼的分辨能力
- 对灰度的分辨能力——约40级
- 对颜色的分辨能力
	+ 光波波长变化1~2nm，人眼即可感受到
	+ 人眼可以同时分辨千种不同颜色、不同亮度的色彩
	+ 面积对色彩的影响：目标物体颜色面积变小是色觉颜色也变；面积小到一定程度时，变为灰色。
	+ 色对比：若目标物的色度相同，但背景色度有所不同时，看起来有不同的颜色。
	+ 主观色：一个纯黑白的图形在特殊情况下也会有颜色感觉（转动的Benham黑白圆板）

####视觉三基色假说（R、G、B）
- 人体可以感受到的光波范围380-760 nm，采用镰状细胞最敏感的三基色不足以产生全部颜色
- 1931年国际照明委员会（CIE）作了统一规定，选定波长为700nm、546.1nm和435.8nm的单色光最为红（R）、绿（G）、蓝（B）三原色，又称物理三基色。
- 任意彩色的颜色方程为$$F() = \alpha(R)+\beta(G)+\gamma(B)\\ \alpha,\beta,\gamma\geqslant0$$
- 常用的颜色模型
	+ RGB（红、绿、蓝）
		* 主动产生颜色光源（显示器）
		* 该模型是三维直角坐标颜色系统中的一个单位正方体
		* 正方体的主对角线上各原色的量相等，产生由暗到亮的白色即灰度。(0,0,0)为黑，(255,255,255)为白其余各点分别为：
			- 红(255,0,0)，绿(0,255,0)，蓝(0,0,255)，青(0,255,255)，品红(255,0,255)，黄(255,255,0)
	+ CMYK（青、品红、黄、黑）(Cyan,Magenta,Yellow,Black)
		* 用于印刷、绘画等
		* CMYK为相减混色，与相加混色的RGB空间刚好互补
		* 由于彩色墨水和颜料的化学特性，CMY等量混合之后的黑色并不是真正的黑色所以在印刷术中又加上了整整的黑色(Blackink)所以就写成了：CMYK。
	+ HSI（色调、色饱和度、亮度）(Hue,Saturation或Chroma,Intensity或Brightness)	
		* 用于调整颜色分量
		* 基于人的视觉
		* 比RGB的色彩空间更加符合人的视觉特性
		* H、S、I可以分开处理而且相互独立
		* HSI有一种HSI圆锥空间模型。
			- 圆锥纵轴：为亮度最上方亮度最亮、灰度值为1
			- 圆锥纵切面：描述了同一色调的不同亮度和饱和度之间的关系
			- 圆锥横切面：色调H绕着圆锥界面度量的色环，圆周上的颜色为完全饱和的纯色，色饱和度为穿过中心的半径横轴。
		* HSI色彩空间和RGB色彩空间只是同一物理量的不同表示法，因而它们之间存在着转换关系
		* $RGB\rightarrow CMY$
		$$
		\begin{bmatrix}
		C\\ 
		Y\\
		M
		\end{bmatrix}
		=
		\begin{bmatrix}
		1\\ 
		1\\
		1
		\end{bmatrix}
		-
		\begin{bmatrix}
		R\\ 
		G\\
		B
		\end{bmatrix}
		$$
		* $HSI\rightarrow RGB$
		$$
		0\leq H\leq120^\circ\\
		B=I(1-S)\\
		R=I·\left[1+\frac{S·cosH}{cos(60^\circ-H)}\right]\\
		G=1-(R+B) ?
		$$
		* $RGB\rightarrow HSI$
		$$\theta= \cos^{-1}\left\{\frac{[(R-G)+(R-B)]/2}{\sqrt{(R-G)^2+(R-B)(G-B)}}\right\}$$
	+ 一幅图像在计算机中用RGB空间显示；用RGB或HSI空间编辑处理；打印输出时要转换成CMY空间；如果要印刷，则要转换成CMYK四幅印刷分色图，用于套印彩色印刷品

#####应用：利用HIS模型特性消除红眼
	+ 红眼：闪光灯照相的结果
	+ 在HIS空间中可以定义红眼为
		* $-\pi/4<色度<\pi/4$
		* $色饱和度>0.3$
	+ 算法
		* 在面部的特定区域进行色空间转换$RGB\rightarrow HIS$
		* 测试每一个点像素
		* 如果$-\pi/4<色度<\pi/4\ and\ S>0.3$
		* 则该像素为红眼像素，使其成为灰色：S=0

###图像的数字化表达、描述
- 图像有的单色与彩色、平面与立体、静止与动态、自发光与反射（透射）等区别，但任一幅图像，根据他的光强度$I$（亮度、密度、或灰度）的空间分布，均可以用下面的函数形式来表达。
	$$I=f(x,y,z,\lambda,t)$$
- 将各类图像转化为数字图像
	+ 将图像分割成称为“像素”的小区域中，每个像素的亮度或灰度值用一个整数来表示。把图像分割成像素的方法也是多种多样的，正方形网格点阵是最常用的方法。
	- 对于静态图像，$t$为常数。对单色图像，$\lambda$为常数。对平面图像$z$为常数。
	- 对于静态平面单色图像，其数学表达式可以简化为$I=f(x,y)$，可以用**矩阵**来表示：
	$$
	I=I[x,y]=
	\begin{bmatrix}
	i_{0,0}&i_{0,1}&\ldots&i_{0,N-1}\\ 
	i_{1,0}&i_{1,1}&\ldots&i_{1,N-1}\\
	\vdots&\vdots&\ddots&\vdots\\
	i_{M-1,0}&i_{M-1,1}&\ldots&i_{M-1,N-1}
	\end{bmatrix}
	$$
	其中，两个下标x,分别表示图像在空间中的位置，$I$表示一定位置下图像的灰度值，即一个强度分量表达式
- 采样：将空间上连续的图像变换成离散点的操作称为采样。
	+ 采样间隔和采样孔径的大小是两个很重要的参数，确定了图像的空间分辨率。

>####二维采样定理####
$设图像f(x,y)是一个连续二维符号信号，其空间频谱在x方向具有截止频率f_{xc}，在y方向具有截止频率f_{yc}。所谓采样时对f(x,y)乘以空间采样函数$<br>
$$s(x,y)=\sum_{i=-\infty}^{+\infty}\sum_{j=-\infty}^{+\infty}\delta(x-i\Delta_x,y-j\Delta_y)$$
式中，$\Delta_x和\Delta_y分别为x、y两个方向的采样间隔，上式为脉冲函数\delta(x,y)沿x、y两个方向的展开$<br>

>即:$$f_s(\Delta_x,\Delta_y)=f(x,y)·s(x,y)=\sum_{i=-\infty}^{+\infty}\sum_{j=-\infty}^{+\infty}f(i\Delta_x,j\Delta_y)\delta(x-i\Delta_x,y-j\Delta_y)$$

>只有在$i\Delta_x$和$j\Delta_y$的采样点上，$f_s$才有数值。为使采样以后的信号$f_s(\Delta_x,\Delta_y)$能完全恢复原来信号$f(x,y)$，采样间隔和$\Delta_x$和$\Delta_y$就必须满足:
$$
\begin{cases} 
    \Delta_x\leqslant\frac{1}{2f_{xc}}\\
    \Delta_y\leqslant\frac{1}{2f_{yc}}\\
\end{cases}
$$


####灰度级数
- 数字化的过程对于M、N值和每个像素点允许的离散灰度级数L需要一个判定。对M和N除了必须取正整数为外没有其他要求。然而，出于处理、存储和取样硬件的考虑，灰度级典型取值是2的整次幂：$$L=2^k$$
这里假设离散的灰度级是等间隔的并且是区间$[0,L-1]$内的整数。有时灰度级取值范围称为图像的动态范围。把占有灰度级全部有效段的图像叫做高动态范围图像。<br>
数字b是存储数字图像需要的比特数，有：
$$b=M\times N\times k$$
当$M=N时，上式变为：$
$$b= N^2k$$

p43《冈萨雷斯》
